<div class="demo-container">

  <dx-data-grid
    [dataSource]="executionItems"
    keyExpr="Id"
    [repaintChangesOnly]="true"
    [showBorders]="true">

    <dxo-editing
      [(changes)]="changes"
      mode="cell"
      [allowUpdating]="true"></dxo-editing>

    <dxi-column
      id="movements"
      dataField="movements"
      caption="DistribuÃ©"
      dataType="number"
      alignment="center"
      cellTemplate="movementsTemplate"
      [allowEditing]="true"
    ></dxi-column>

    <div *dxTemplate="let data of 'movementsTemplate'">
      <dx-text-box
        [disabled]="data.data.disabled"
        (onValueChanged)="onValueMovementChange(data, $event)"
        [(value)]="data.value">
      </dx-text-box>
    </div>

    <dxi-column dataField="Lot">
      <dxi-validation-rule
        message="lot requis pour ce produit"
        [validationCallback]="validateLot"
        type="custom">
      </dxi-validation-rule>
    </dxi-column>


    <dxo-toolbar>
      <dxi-item>
        <div *dxTemplate>
          <dx-button
            text="Validate DataGrid"
            stylingMode="outlined"
            (onClick)="validateVisibleRows()"
          ></dx-button>
        </div>
      </dxi-item>
    </dxo-toolbar>
  </dx-data-grid>


</div>
